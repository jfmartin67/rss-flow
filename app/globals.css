@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  overscroll-behavior-y: contain;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Force all article content text to be dark and readable */
.article-content,
.article-content * {
  color: #111827 !important; /* gray-900 */
}

/* Handle broken images gracefully to prevent layout shifts */
.article-content img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Hide broken images to prevent layout jumps */
.article-content img[src=""],
.article-content img:not([src]) {
  display: none;
}

/* Links should remain orange */
.article-content a,
.article-content a * {
  color: #f97316 !important; /* orange-500 */
}

.article-content a:hover,
.article-content a:hover * {
  color: #ea580c !important; /* orange-600 */
}

/* Dark mode text colors */
.dark .article-content,
.dark .article-content * {
  color: #f3f4f6 !important; /* gray-100 */
}

.dark .article-content a,
.dark .article-content a * {
  color: #f97316 !important; /* orange-500 */
}

.dark .article-content a:hover,
.dark .article-content a:hover * {
  color: #ea580c !important; /* orange-600 */
}

/* Keep text selection visible when context menu is open */
.preserve-selection::selection {
  background-color: #3b82f6;
  color: white;
}

.preserve-selection::-moz-selection {
  background-color: #3b82f6;
  color: white;
}

/* Force selection to remain visible even when window is inactive */
.preserve-selection {
  caret-color: transparent;
}

.preserve-selection *::selection {
  background-color: #3b82f6 !important;
  color: white !important;
}

.preserve-selection *::-moz-selection {
  background-color: #3b82f6 !important;
  color: white !important;
}

/* Show landscape-only content only on mobile in landscape orientation */
.landscape-only {
  display: none;
}

@media (max-width: 768px) and (orientation: landscape) {
  .landscape-only {
    display: block;
  }
}
